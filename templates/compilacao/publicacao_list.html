{% extends "base.html" %}
{% load i18n %}
{% load compilacao_filters %}

{% block base_content %}

<dl class="sub-nav">
  <dd><a href="{{ view.create_url }}">
      {% trans 'Adicionar'%} {%model_verbose_name 'Publicacao'%}
  </a></dd>
  {% block more_buttons %}
    <dd><a href="{% url 'ta_text' view.kwargs|lookup:'ta_id' %}">{% trans 'Voltar'  %}</a></dd>

  {% endblock more_buttons %}
</dl>

{% if not object_list %}
  <p>{{ NO_ENTRIES_MSG }}</p>
{% else %}
<table class="table">
    <thead>
        <tr>
            <th>{% fieldclass_verbose_name 'Publicacao' 'data' %}</th>
            <th>{% fieldclass_verbose_name 'Publicacao' 'hora' %}</th>
            <th>{% fieldclass_verbose_name 'Publicacao' 'numero' %}</th>
            <th>{% fieldclass_verbose_name 'Publicacao' 'ano' %}</th>
            <th>{% fieldclass_verbose_name 'Publicacao' 'edicao' %}</th>
            <th>{% fieldclass_verbose_name 'Publicacao' 'veiculo_publicacao' %}</th>
            <th>{% fieldclass_verbose_name 'Publicacao' 'tipo_publicacao' %}</th>
        </tr>
    </thead>
    <tbody>
        {% for pub in object_list %}
        <tr>
            <td><a href="{% url 'ta_pub_detail' view.kwargs.ta_id pub.pk%}">{{ pub.data }}</a></td>
            <td>{{ pub.hora|time:'H:i:s' }}</td>
            <td>{{ pub.numero|default:'' }}</td>
            <td>{{ pub.ano|default:'' }}</td>
            <td>{{ pub.edicao|default:'' }}</td>
            <td>{{ pub.veiculo_publicacao }}</td>
            <td>{{ pub.tipo_publicacao}}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{%endif%}

{% if is_paginated %}
<div class="pagination-centered">
  <ul class="pagination" role="menubar" aria-label="Pagination">
    {% if page_obj.has_previous %}
    <li>
      <a href="?page={{ page_obj.previous_page_number }}">
        <span class="arrow">&laquo;</span>
      </a>
    </li>
    {% else %}
    <li class="arrow unavailable" aria-disabled="true"><a href="">&laquo;</a></li>
    {% endif %}

    {% for page in page_range %}
        {% if page %}
            <li {% if page == page_obj.number %}class="current"{% endif %}>
              <a href="?page={{ page }}">{{ page }}</a>
            </li>
            {% else %}
            <li class="unavailable" aria-disabled="true"><a href="">&hellip;</a></li>
        {% endif %}
    {% endfor %}

    {% if page_obj.has_next %}
    <li>
      <a href="?page={{ page_obj.next_page_number }}">
        <span class="arrow">&raquo;</span>
      </a>
    </li>
    {% else %}
    <li class="arrow unavailable" aria-disabled="true"><a href="">&raquo;</a></li>
    {% endif %}
  </ul>
</div>
{% endif %}
{% endblock %}
